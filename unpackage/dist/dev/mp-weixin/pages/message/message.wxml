<view class="message tn-safe-area-inset-bottom data-v-a91f51d4"><tn-nav-bar vue-id="7ac9e6a0-1" isBack="{{false}}" bottomShadow="{{false}}" backgroundColor="none" class="data-v-a91f51d4" bind:__l="__l" vue-slots="{{['default']}}"><view class="custom-nav tn-flex tn-flex-col-center tn-flex-row-left data-v-a91f51d4"><text data-event-opts="{{[['tap',[['openScan',['$event']]]]]}}" class="tn-icon-scan tn-color-cat data-v-a91f51d4" style="font-size:50rpx;margin-left:80rpx;" bindtap="__e"></text><view class="custom-nav__back data-v-a91f51d4" style="width:320rpx;margin-left:60rpx;" slots="right"><tn-tabs vue-id="{{('7ac9e6a0-2')+','+('7ac9e6a0-1')}}" list="{{list}}" isScroll="{{false}}" current="{{current}}" name="tabName" activeColor="#000" bold="{{true}}" backgroundColor="#FFFFFF99" data-event-opts="{{[['^change',[['change']]]]}}" bind:change="__e" class="data-v-a91f51d4" bind:__l="__l"></tn-tabs></view></view></tn-nav-bar><block wx:if="{{current===0}}"><view class="tn-margin-top-sm tn-padding-bottom-lg data-v-a91f51d4"><view class="tn-flex tn-message-fixed data-v-a91f51d4" style="{{'padding-top:'+(vuex_custom_bar_height+'px')+';'}}"><view class="tn-flex-1 tn-padding-sm tn-margin-xs tn-radius data-v-a91f51d4"><view class="tn-flex tn-flex-direction-column tn-flex-row-center tn-flex-col-center data-v-a91f51d4"><view class="icon1__item--icon tn-flex tn-flex-row-center tn-flex-col-center tn-shadow-blur data-v-a91f51d4" style="background-image:repeating-linear-gradient(45deg,#ed1c24,#fece12);color:#FFFFFF;"><view class="tn-icon-reply data-v-a91f51d4"><tn-badge vue-id="7ac9e6a0-3" backgroundColor="#E72F8C" fontColor="#FFFFFF" absolute="{{true}}" fontSize="{{16}}" class="data-v-a91f51d4" bind:__l="__l" vue-slots="{{['default']}}"><text class="data-v-a91f51d4">16</text></tn-badge></view></view><view class="tn-color-black tn-text-center data-v-a91f51d4"><text class="tn-text-ellipsis data-v-a91f51d4">互 动</text></view></view></view><view class="tn-flex-1 tn-padding-sm tn-margin-xs tn-radius data-v-a91f51d4"><view class="tn-flex tn-flex-direction-column tn-flex-row-center tn-flex-col-center data-v-a91f51d4"><view class="icon1__item--icon tn-flex tn-flex-row-center tn-flex-col-center tn-shadow-blur data-v-a91f51d4" style="background-image:repeating-linear-gradient(45deg,#ca26ff,#f360a7);color:#FFFFFF;"><view class="tn-icon-like data-v-a91f51d4"><tn-badge vue-id="7ac9e6a0-4" backgroundColor="#E72F8C" fontColor="#FFFFFF" absolute="{{true}}" fontSize="{{16}}" class="data-v-a91f51d4" bind:__l="__l" vue-slots="{{['default']}}"><text class="data-v-a91f51d4">12</text></tn-badge></view></view><view class="tn-color-black tn-text-center data-v-a91f51d4"><text class="tn-text-ellipsis data-v-a91f51d4">爱 心</text></view></view></view><view class="tn-flex-1 tn-padding-sm tn-margin-xs tn-radius data-v-a91f51d4"><view class="tn-flex tn-flex-direction-column tn-flex-row-center tn-flex-col-center data-v-a91f51d4"><view class="icon1__item--icon tn-flex tn-flex-row-center tn-flex-col-center tn-shadow-blur data-v-a91f51d4" style="background-image:repeating-linear-gradient(45deg,#209cff,#68e0cf);color:#FFFFFF;"><view class="tn-icon-star data-v-a91f51d4"><tn-badge vue-id="7ac9e6a0-5" backgroundColor="#E72F8C" fontColor="#FFFFFF" absolute="{{true}}" fontSize="{{16}}" class="data-v-a91f51d4" bind:__l="__l" vue-slots="{{['default']}}"><text class="data-v-a91f51d4">39</text></tn-badge></view></view><view class="tn-color-black tn-text-center data-v-a91f51d4"><text class="tn-text-ellipsis data-v-a91f51d4">收 藏</text></view></view></view><view class="tn-flex-1 tn-padding-sm tn-margin-xs tn-radius data-v-a91f51d4"><view class="tn-flex tn-flex-direction-column tn-flex-row-center tn-flex-col-center data-v-a91f51d4"><view class="icon1__item--icon tn-flex tn-flex-row-center tn-flex-col-center tn-shadow-blur data-v-a91f51d4" style="background-image:repeating-linear-gradient(45deg,#00c3ff,#58fff5);color:#FFFFFF;"><view class="tn-icon-notice data-v-a91f51d4"><tn-badge vue-id="7ac9e6a0-6" backgroundColor="#E72F8C" fontColor="#FFFFFF" absolute="{{true}}" fontSize="{{16}}" class="data-v-a91f51d4" bind:__l="__l" vue-slots="{{['default']}}"><text class="data-v-a91f51d4">99+</text></tn-badge></view></view><view class="tn-color-black tn-text-center data-v-a91f51d4"><text class="tn-text-ellipsis data-v-a91f51d4">通 知</text></view></view></view></view><view class="tn-safe-area-inset-bottom tn-margin-bottom-sm data-v-a91f51d4"><scroll-view class="conversations data-v-a91f51d4" scroll-y="true"><block wx:if="{{$root.g0>0}}"><view class="data-v-a91f51d4"><block wx:for="{{$root.l0}}" wx:for-item="conversation" wx:for-index="key" wx:key="key"><view class="scroll-item data-v-a91f51d4"><view class="item-head data-v-a91f51d4"><image class="head-icon data-v-a91f51d4" src="{{conversation.$orig.data.avatar}}"></image><block wx:if="{{conversation.$orig.unread}}"><view class="item-head_unread data-v-a91f51d4">{{conversation.$orig.unread+''}}</view></block></view><view data-event-opts="{{[['tap',[['chat',['$0'],[[['conversations','',key]]]]]]]}}" class="scroll-item_info data-v-a91f51d4" bindtap="__e"><view class="item-info-top data-v-a91f51d4"><text class="item-info-top_name data-v-a91f51d4">{{conversation.$orig.data.name}}</text><view class="item-info-top_time data-v-a91f51d4">{{''+conversation.m0+''}}</view></view><view class="item-info-bottom data-v-a91f51d4"><view class="item-info-bottom-item data-v-a91f51d4"><block wx:if="{{!conversation.$orig.lastMessage.recalled}}"><view class="item-info-top_content data-v-a91f51d4"><text class="unread-text data-v-a91f51d4">{{''+(conversation.g1?'[未读]':'')+''}}</text><block wx:if="{{conversation.$orig.lastMessage.senderId===conversation.g2}}"><text class="data-v-a91f51d4">我:</text></block><block wx:else><text class="data-v-a91f51d4">{{(conversation.$orig.type==='group'?conversation.$orig.lastMessage.senderData.name:conversation.$orig.data.name)+':'}}</text></block><block wx:if="{{conversation.$orig.lastMessage.type==='text'}}"><text class="data-v-a91f51d4">{{conversation.$orig.lastMessage.payload.text}}</text></block><block wx:else><block wx:if="{{conversation.$orig.lastMessage.type==='video'}}"><text class="data-v-a91f51d4">[视频消息]</text></block><block wx:else><block wx:if="{{conversation.$orig.lastMessage.type==='audio'}}"><text class="data-v-a91f51d4">[语音消息]</text></block><block wx:else><block wx:if="{{conversation.$orig.lastMessage.type==='image'}}"><text class="data-v-a91f51d4">[图片消息]</text></block><block wx:else><block wx:if="{{conversation.$orig.lastMessage.type==='file'}}"><text class="data-v-a91f51d4">[文件消息]</text></block><block wx:else><text class="data-v-a91f51d4">[[未识别内容]]</text></block></block></block></block></block></view></block><block wx:else><view class="item-info-top_content data-v-a91f51d4"><text class="data-v-a91f51d4">{{''+(conversation.$orig.lastMessage.recaller.id===conversation.g3?'你':conversation.$orig.lastMessage.recaller.data.name)+'撤回了一条消息'}}</text></view></block><view data-event-opts="{{[['tap',[['showAction',['$0'],[[['conversations','',key]]]]]]]}}" class="item-info-bottom_action data-v-a91f51d4" catchtap="__e"></view></view></view></view></view></block></view></block><block wx:else><view class="no-conversation data-v-a91f51d4">当前没有会话</view></block><block wx:if="{{actionPopup.visible}}"><view class="action-container data-v-a91f51d4"><view data-event-opts="{{[['tap',[['e0',['$event']]]]]}}" class="layer data-v-a91f51d4" bindtap="__e"></view><view class="action-box data-v-a91f51d4"><view data-event-opts="{{[['tap',[['topConversation',['$event']]]]]}}" class="action-item data-v-a91f51d4" bindtap="__e">{{''+(actionPopup.conversation.top?'取消置顶':'置顶聊天')+''}}</view><view data-event-opts="{{[['tap',[['deleteConversation',['$event']]]]]}}" class="action-item data-v-a91f51d4" bindtap="__e">删除聊天</view></view></view></block></scroll-view></view></view></block><block wx:if="{{current===1}}"><view class="data-v-a91f51d4"><view style="{{'padding-top:'+(vuex_custom_bar_height+'px')+';'}}" class="data-v-a91f51d4"><liu-indexed-list vue-id="7ac9e6a0-7" dataList="{{friendsList}}" class="data-v-a91f51d4" bind:__l="__l"></liu-indexed-list></view></view></block><block wx:if="{{current===2}}"><view class="data-v-a91f51d4"><view style="{{'padding-top:'+(vuex_custom_bar_height+'px')+';'}}" class="data-v-a91f51d4"><view class="contacts data-v-a91f51d4"><view class="contacts-container data-v-a91f51d4"><view class="user-list data-v-a91f51d4"><block wx:for="{{groups}}" wx:for-item="group" wx:for-index="id" wx:key="id"><view data-event-opts="{{[['tap',[['groupChat',['$0'],[[['groups','',id]]]]]]]}}" class="user-list-item data-v-a91f51d4" bindtap="__e"><view class="user-item-avatar data-v-a91f51d4"><image src="{{group.avatar}}" class="data-v-a91f51d4"></image></view><view class="user-item-info data-v-a91f51d4"><label class="user-item-info__name _span data-v-a91f51d4">{{group.name}}</label></view></view></block></view></view></view></view></view></block></view>