(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["homePages/search"],{"02c0":function(e,t,n){},"09f0":function(e,t,n){"use strict";n.r(t);var o=n("5c8f"),s=n("f500");for(var r in s)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return s[e]}))}(r);n("ef53");var i=n("f0c5"),c=Object(i["a"])(s["default"],o["b"],o["c"],!1,null,"5fd8b419",null,!1,o["a"],void 0);t["default"]=c.exports},"17f2":function(e,t,n){"use strict";(function(e,t){var o=n("4ea4");n("1827");o(n("66fd"));var s=o(n("09f0"));e.__webpack_require_UNI_MP_PLUGIN__=n,t(s.default)}).call(this,n("bc2e")["default"],n("543d")["createPage"])},"1bcc":function(e,t,n){"use strict";(function(e){var o=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=o(n("2eee")),r=o(n("c973")),i=o(n("88ff")),c={name:"TemplateSearch",mixins:[i.default],components:{suggestion:function(){n.e("components/suggestion/suggestion").then(function(){return resolve(n("cb09"))}.bind(null,n)).catch(n.oe)}},data:function(){return{searchKey:"",delShow:!1,showSuggestion:!1,showSearchHistory:!1,showHotSearch:!0,searchHistory:[],hotSearch:[]}},watch:{searchKey:function(e,t){""!=e?(this.showHotSearch=!1,this.showSearchHistory=!1,this.showSuggestion=!0):(this.showHotSearch=!0,this.showSuggestion=!1,this.searchHistory.length>0&&(this.showSearchHistory=!0))}},onLoad:function(){this.searchHistory=JSON.parse(e.getStorageSync("history")),this.searchHistory.length>0&&(this.showSearchHistory=!0)},created:function(){this.getHotSearch()},methods:{getHotSearch:function(){var t=this;return(0,r.default)(s.default.mark((function n(){var o,r;return s.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,e.$http.get("/scenic/getHotCity");case 2:o=n.sent,r=o.data,1===r.code?t.hotSearch=r.data.records:e.$showMsg("获取热门搜索失败~");case 5:case"end":return n.stop()}}),n)})))()},goToResult:function(t){e.navigateTo({url:"/searchPages/searchResult?searchKey="+t})},goBack:function(){setTimeout((function(){e.redirectTo({url:"/pages/index"})}))},tn:function(t){e.navigateTo({url:t})},goSearch:function(){""!==this.searchKey?(this.searchHistory.unshift(this.searchKey),e.setStorageSync("history",JSON.stringify(this.searchHistory)),this.showHotSearch=!0,this.showSearchHistory=!0,this.showSuggestion=!1,e.navigateTo({url:"/searchPages/searchResult?searchKey="+this.searchKey})):e.$showMsg("搜索内容不能为空！")},delHistory:function(){var t=this;e.removeStorageSync("history"),this.searchHistory=[],this.showSearchHistory=!1,setTimeout((function(){t.delShow=!1}),200)},deleteHistory:function(){this.delShow=!0}}};t.default=c}).call(this,n("543d")["default"])},"5c8f":function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return o}));var o={tnNavBar:function(){return Promise.all([n.e("common/vendor"),n.e("tuniao-ui/components/tn-nav-bar/tn-nav-bar")]).then(n.bind(null,"aa86"))},uSearch:function(){return Promise.all([n.e("common/vendor"),n.e("node-modules/uview-ui/components/u-search/u-search")]).then(n.bind(null,"629a"))},tnButton:function(){return Promise.all([n.e("common/vendor"),n.e("tuniao-ui/components/tn-button/tn-button")]).then(n.bind(null,"e6e0"))},uModal:function(){return Promise.all([n.e("common/vendor"),n.e("node-modules/uview-ui/components/u-modal/u-modal")]).then(n.bind(null,"8d90"))},suggestion:function(){return n.e("components/suggestion/suggestion").then(n.bind(null,"cb09"))}},s=function(){var e=this,t=e.$createElement;e._self._c;e._isMounted||(e.e0=function(t){e.delShow=!1})},r=[]},ef53:function(e,t,n){"use strict";var o=n("02c0"),s=n.n(o);s.a},f500:function(e,t,n){"use strict";n.r(t);var o=n("1bcc"),s=n.n(o);for(var r in o)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return o[e]}))}(r);t["default"]=s.a}},[["17f2","common/runtime","common/vendor"]]]);