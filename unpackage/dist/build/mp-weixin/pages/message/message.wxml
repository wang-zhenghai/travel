<view class="template-message data-v-4412a61f"><tn-nav-bar vue-id="7ac9e6a0-1" fixed="{{true}}" bottomShadow="{{false}}" backTitle=" " class="data-v-4412a61f" bind:__l="__l" vue-slots="{{['default']}}"><view data-event-opts="{{[['tap',[['showModal',['$event']]]]]}}" bindtap="__e" class="data-v-4412a61f"><text class="tn-text-lg data-v-4412a61f">消息</text><text class="tn-text-xl tn-padding-left-sm tn-icon-group-circle data-v-4412a61f"></text></view></tn-nav-bar><view class="tn-flex tn-message-fixed data-v-4412a61f" style="{{'padding-top:'+(vuex_custom_bar_height+'px')+';'}}"><view class="tn-flex-1 tn-padding-sm tn-margin-xs tn-radius data-v-4412a61f"><view class="tn-flex tn-flex-direction-column tn-flex-row-center tn-flex-col-center data-v-4412a61f"><view class="icon1__item--icon tn-flex tn-flex-row-center tn-flex-col-center tn-shadow-blur tn-bg-cyan tn-color-white data-v-4412a61f"><view class="tn-icon-praise-fill data-v-4412a61f"><tn-badge vue-id="7ac9e6a0-2" backgroundColor="#E72F8C" fontColor="#FFFFFF" absolute="{{true}}" fontSize="{{16}}" class="data-v-4412a61f" bind:__l="__l" vue-slots="{{['default']}}"><text class="data-v-4412a61f">{{liked}}</text></tn-badge></view></view><view class="tn-color-black tn-text-center data-v-4412a61f"><text class="tn-text-ellipsis data-v-4412a61f">点赞</text></view></view></view><view class="tn-flex-1 tn-padding-sm tn-margin-xs tn-radius data-v-4412a61f"><view class="tn-flex tn-flex-direction-column tn-flex-row-center tn-flex-col-center data-v-4412a61f"><view class="icon1__item--icon tn-flex tn-flex-row-center tn-flex-col-center tn-shadow-blur tn-bg-orange tn-color-white data-v-4412a61f"><view class="tn-icon-topics-fill data-v-4412a61f"><tn-badge vue-id="7ac9e6a0-3" backgroundColor="#E72F8C" fontColor="#FFFFFF" absolute="{{true}}" fontSize="{{16}}" class="data-v-4412a61f" bind:__l="__l" vue-slots="{{['default']}}"><text class="data-v-4412a61f">{{comment}}</text></tn-badge></view></view><view class="tn-color-black tn-text-center data-v-4412a61f"><text class="tn-text-ellipsis data-v-4412a61f">评论</text></view></view></view><view class="tn-flex-1 tn-padding-sm tn-margin-xs tn-radius data-v-4412a61f"><view class="tn-flex tn-flex-direction-column tn-flex-row-center tn-flex-col-center data-v-4412a61f"><view class="icon1__item--icon tn-flex tn-flex-row-center tn-flex-col-center tn-shadow-blur tn-bg-blue tn-color-white data-v-4412a61f"><view class="tn-icon-notice-fill data-v-4412a61f"><tn-badge vue-id="7ac9e6a0-4" backgroundColor="#E72F8C" fontColor="#FFFFFF" absolute="{{true}}" fontSize="{{16}}" class="data-v-4412a61f" bind:__l="__l" vue-slots="{{['default']}}"><text class="data-v-4412a61f">{{system}}</text></tn-badge></view></view><view class="tn-color-black tn-text-center data-v-4412a61f"><text class="tn-text-ellipsis data-v-4412a61f">系统</text></view></view></view></view><tn-modal bind:input="__e" vue-id="7ac9e6a0-5" custom="{{true}}" value="{{show1}}" data-event-opts="{{[['^input',[['__set_model',['','show1','$event',[]]]]]]}}" class="data-v-4412a61f" bind:__l="__l" vue-slots="{{['default']}}"><view class="custom-modal-content data-v-4412a61f"><view class="tn-text-center tn-padding-top-sm tn-text-xxl tn-text-bold data-v-4412a61f">提 示</view><view class="tn-text-center tn-padding-top tn-text-lg tn-color-gray data-v-4412a61f">确定将所有消息标为已读吗？</view><view class="tn-flex tn-flex-row-between tn-margin-top-xl data-v-4412a61f"><view class="tn-flex-1 justify-content-item tn-margin-xs tn-text-center data-v-4412a61f"><tn-button vue-id="{{('7ac9e6a0-6')+','+('7ac9e6a0-5')}}" backgroundColor="#00FFC6" padding="40rpx 0" width="90%" shadow="{{true}}" fontBold="{{true}}" shape="round" data-event-opts="{{[['^click',[['e0']]]]}}" bind:click="__e" class="data-v-4412a61f" bind:__l="__l" vue-slots="{{['default']}}"><text class="tn-color-black data-v-4412a61f">取 消</text></tn-button></view><view class="tn-flex-1 justify-content-item tn-margin-xs tn-text-center data-v-4412a61f"><tn-button vue-id="{{('7ac9e6a0-7')+','+('7ac9e6a0-5')}}" backgroundColor="#FFF00D" padding="40rpx 0" width="90%" shadow="{{true}}" fontBold="{{true}}" shape="round" data-event-opts="{{[['^click',[['clear']]]]}}" bind:click="__e" class="data-v-4412a61f" bind:__l="__l" vue-slots="{{['default']}}"><text class="tn-color-black data-v-4412a61f">确 定</text></tn-button></view></view></view></tn-modal><view class="tn-safe-area-inset-bottom tn-margin-bottom-sm data-v-4412a61f" style="{{'margin-top:260rpx;'+('padding-top:'+(vuex_custom_bar_height+'px')+';')}}"><scroll-view class="conversations data-v-4412a61f" scroll-y="true"><block wx:if="{{$root.g0>0}}"><view class="data-v-4412a61f"><block wx:for="{{$root.l0}}" wx:for-item="conversation" wx:for-index="key" wx:key="key"><view class="scroll-item data-v-4412a61f"><view class="item-head data-v-4412a61f"><image class="head-icon data-v-4412a61f" src="{{conversation.$orig.data.avatar}}"></image><block wx:if="{{conversation.$orig.unread}}"><view class="item-head_unread data-v-4412a61f">{{conversation.$orig.unread}}</view></block></view><view data-event-opts="{{[['tap',[['chat',['$0'],[[['conversations','',key]]]]]]]}}" class="scroll-item_info data-v-4412a61f" bindtap="__e"><view class="item-info-top data-v-4412a61f"><text class="item-info-top_name data-v-4412a61f">{{conversation.$orig.data.name}}</text><view class="item-info-top_time data-v-4412a61f">{{conversation.m0+''}}</view></view><view class="item-info-bottom data-v-4412a61f"><view class="item-info-bottom-item data-v-4412a61f"><block wx:if="{{!conversation.$orig.lastMessage.recalled}}"><view class="item-info-top_content data-v-4412a61f"><text class="unread-text data-v-4412a61f">{{''+(conversation.g1?'[未读]':'')+''}}</text><block wx:if="{{conversation.$orig.lastMessage.senderId===conversation.g2}}"><text class="data-v-4412a61f">我:</text></block><block wx:else><text class="data-v-4412a61f">{{(conversation.$orig.type==='group'?conversation.$orig.lastMessage.senderData.name:conversation.$orig.data.name)+':'}}</text></block><block wx:if="{{conversation.$orig.lastMessage.type==='text'}}"><text class="data-v-4412a61f">{{conversation.$orig.lastMessage.payload.text}}</text></block><block wx:else><block wx:if="{{conversation.$orig.lastMessage.type==='video'}}"><text class="data-v-4412a61f">[视频消息]</text></block><block wx:else><block wx:if="{{conversation.$orig.lastMessage.type==='audio'}}"><text class="data-v-4412a61f">[语音消息]</text></block><block wx:else><block wx:if="{{conversation.$orig.lastMessage.type==='image'}}"><text class="data-v-4412a61f">[图片消息]</text></block><block wx:else><block wx:if="{{conversation.$orig.lastMessage.type==='file'}}"><text class="data-v-4412a61f">[文件消息]</text></block><block wx:else><text class="data-v-4412a61f">[[未识别内容]]</text></block></block></block></block></block></view></block><block wx:else><view class="item-info-top_content data-v-4412a61f"><text class="data-v-4412a61f">{{''+(conversation.$orig.lastMessage.recaller.id===conversation.g3?'你':conversation.$orig.lastMessage.recaller.data.name)+'撤回了一条消息'}}</text></view></block><view data-event-opts="{{[['tap',[['showAction',['$0'],[[['conversations','',key]]]]]]]}}" class="item-info-bottom_action data-v-4412a61f" catchtap="__e"></view></view></view></view></view></block></view></block><block wx:else><view class="no-conversation data-v-4412a61f">当前没有会话</view></block><block wx:if="{{actionPopup.visible}}"><view class="action-container data-v-4412a61f"><view data-event-opts="{{[['tap',[['e1',['$event']]]]]}}" class="layer data-v-4412a61f" bindtap="__e"></view><view class="action-box data-v-4412a61f"><view data-event-opts="{{[['tap',[['topConversation',['$event']]]]]}}" class="action-item data-v-4412a61f" bindtap="__e">{{''+(actionPopup.conversation.top?'取消置顶':'置顶聊天')+''}}</view><view data-event-opts="{{[['tap',[['deleteConversation',['$event']]]]]}}" class="action-item data-v-4412a61f" bindtap="__e">删除聊天</view></view></view></block></scroll-view></view></view>