(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["preferredPages/order"],{"300e":function(t,e,n){},"6ea4":function(t,e,n){"use strict";var r=n("300e"),o=n.n(r);o.a},"913b":function(t,e,n){"use strict";(function(t){var r=n("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=r(n("2eee")),a=r(n("c973")),i=r(n("88ff")),s={name:"TemplateOrder",mixins:[i.default],data:function(){return{list1:[{text:"删除订单",color:"red"}],list:[{name:"全部"},{name:"待发货"},{name:"运输中"},{name:"待收货"}],orderList:[],orderList1:[],orderList2:[],orderList3:[],show:!1,show1:!1,showAction:!1,title:"提示信息",content:"您确定要确认收货?",button:[{text:"取消",backgroundColor:"#9ee931",fontColor:"#FFFFFF"},{text:"确定",backgroundColor:"tn-bg-indigo",fontColor:"#FFFFFF"}],tabsIndex:0,swiperIndex:0,swiperTop:0,swiperHeight:0,goodsId:"",orderNo:""}},onLoad:function(){this.getOrderByUserId()},onReady:function(){var t=this;this.$nextTick((function(){t.updateSwiperInfo()}))},methods:{seeInvoice:function(e,n){console.log(e,n),t.$showMsg("暂未开通此功能！")},clickAction:function(e){var n=this;return(0,a.default)(o.default.mark((function r(){var a,i;return o.default.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(0!==e){r.next=6;break}return r.next=3,t.$http.delete("/order/deleteOrder/"+n.orderNo);case 3:a=r.sent,i=a.data,1===i.code?(t.showToast({title:"删除订单完成！",icon:"success"}),n.getOrderByUserId(),n.showAction=!1):(t.$showMsg(i.msg),n.showAction=!1);case 6:case"end":return r.stop()}}),r)})))()},confirm:function(e){var n=this;return(0,a.default)(o.default.mark((function r(){return o.default.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(0!==e.index){r.next=4;break}n.show=!1,r.next=8;break;case 4:return r.next=6,t.$http.put("/order/updateOrderStatus/"+n.goodsId);case 6:n.getOrderByUserId(),n.show=!1;case 8:case"end":return r.stop()}}),r)})))()},confirm1:function(e){var n=this;return(0,a.default)(o.default.mark((function r(){var a,i;return o.default.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(0!==e.index){r.next=4;break}n.show1=!1,r.next=12;break;case 4:return r.next=6,t.$http.put("/order/updateOrderStatus/"+n.goodsId);case 6:return r.next=8,t.$http.get("/order/getOrderByUserId?status=2");case 8:a=r.sent,i=a.data,n.orderList3=i.data,n.show1=!1;case 12:case"end":return r.stop()}}),r)})))()},deleteOrder:function(t){var e=this;return(0,a.default)(o.default.mark((function n(){return o.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:e.$nextTick((function(){e.orderNo=t})),e.showAction=!0;case 2:case"end":return n.stop()}}),n)})))()},ConfirmReceipt1:function(t){var e=this;this.$nextTick((function(){e.goodsId=t})),this.show=!0},ConfirmReceipt2:function(t){var e=this;this.$nextTick((function(){e.goodsId=t})),this.show1=!0},seeStream:function(){t.navigateTo({url:"/preferredPages/stream/stream"})},goOut:function(){setTimeout((function(){t.showToast({title:"催单成功！",icon:"success"})}),500)},getOrderByUserId:function(){var e=this;return(0,a.default)(o.default.mark((function n(){var r,a;return o.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.$http.get("/order/getOrderByUserId");case 2:r=n.sent,a=r.data,e.orderList=a.data;case 5:case"end":return n.stop()}}),n)})))()},tn:function(e){t.navigateTo({url:e})},updateSwiperInfo:function(){var e=this;this._tGetRect(".order__tabs").then((function(n){if(n){var r=t.getSystemInfoSync();e.swiperTop=n.bottom-e.vuex_custom_bar_height,e.swiperHeight=r.safeArea.height-n.bottom+r.statusBarHeight}else setTimeout((function(){e.updateSwiperInfo()}),10)}))},tabsChange:function(e){var n=this;return(0,a.default)(o.default.mark((function r(){var a,i,s,u,c,d;return o.default.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(n.swiperIndex=e,0===e&&n.getOrderByUserId(),1!==e){r.next=8;break}return r.next=5,t.$http.get("/order/getOrderByUserId?status=0");case 5:a=r.sent,i=a.data,n.orderList1=i.data;case 8:if(2!==e){r.next=14;break}return r.next=11,t.$http.get("/order/getOrderByUserId?status=1");case 11:s=r.sent,u=s.data,n.orderList2=u.data;case 14:if(3!==e){r.next=20;break}return r.next=17,t.$http.get("/order/getOrderByUserId?status=2");case 17:c=r.sent,d=c.data,n.orderList3=d.data;case 20:case"end":return r.stop()}}),r)})))()},swiperTransition:function(t){this.$refs.tabs.setDx(t.detail.dx)},swiperAnimationFinish:function(t){var e=t.detail.current;this.$refs.tabs.setFinishCurrent(e),this.swiperIndex=e,this.tabsIndex=e}}};e.default=s}).call(this,n("543d")["default"])},c230:function(t,e,n){"use strict";n.r(e);var r=n("f432"),o=n("eef4");for(var a in o)["default"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return o[t]}))}(a);n("6ea4");var i=n("f0c5"),s=Object(i["a"])(o["default"],r["b"],r["c"],!1,null,"7a8f0d7c",null,!1,r["a"],void 0);e["default"]=s.exports},e23c:function(t,e,n){"use strict";(function(t,e){var r=n("4ea4");n("1827");r(n("66fd"));var o=r(n("c230"));t.__webpack_require_UNI_MP_PLUGIN__=n,e(o.default)}).call(this,n("bc2e")["default"],n("543d")["createPage"])},eef4:function(t,e,n){"use strict";n.r(e);var r=n("913b"),o=n.n(r);for(var a in r)["default"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return r[t]}))}(a);e["default"]=o.a},f432:function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){return r}));var r={tnNavBar:function(){return Promise.all([n.e("common/vendor"),n.e("tuniao-ui/components/tn-nav-bar/tn-nav-bar")]).then(n.bind(null,"aa86"))},tnTabsSwiper:function(){return Promise.all([n.e("common/vendor"),n.e("tuniao-ui/components/tn-tabs-swiper/tn-tabs-swiper")]).then(n.bind(null,"8288"))},tnEmpty:function(){return n.e("tuniao-ui/components/tn-empty/tn-empty").then(n.bind(null,"c9e6"))},tnButton:function(){return Promise.all([n.e("common/vendor"),n.e("tuniao-ui/components/tn-button/tn-button")]).then(n.bind(null,"e6e0"))},tnModal:function(){return Promise.all([n.e("common/vendor"),n.e("tuniao-ui/components/tn-modal/tn-modal")]).then(n.bind(null,"ca15"))},tnActionSheet:function(){return n.e("tuniao-ui/components/tn-action-sheet/tn-action-sheet").then(n.bind(null,"0812"))}},o=function(){var t=this.$createElement,e=(this._self._c,this.orderList.length),n=this.orderList1.length,r=this.orderList2.length,o=this.orderList3.length;this.$mp.data=Object.assign({},{$root:{g0:e,g1:n,g2:r,g3:o}})},a=[]}},[["e23c","common/runtime","common/vendor"]]]);