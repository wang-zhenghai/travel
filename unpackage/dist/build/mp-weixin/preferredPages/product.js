(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["preferredPages/product"],{"0898":function(t,e,n){"use strict";var o=n("c247"),a=n.n(o);a.a},"6b68":function(t,e,n){"use strict";n.r(e);var o=n("8584"),a=n("c746");for(var r in a)["default"].indexOf(r)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(r);n("0898");var u=n("f0c5"),c=Object(u["a"])(a["default"],o["b"],o["c"],!1,null,"afc7ceae",null,!1,o["a"],void 0);e["default"]=c.exports},8584:function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return o}));var o={tnNavBar:function(){return Promise.all([n.e("common/vendor"),n.e("tuniao-ui/components/tn-nav-bar/tn-nav-bar")]).then(n.bind(null,"aa86"))},tnListCell:function(){return Promise.all([n.e("common/vendor"),n.e("tuniao-ui/components/tn-list-cell/tn-list-cell")]).then(n.bind(null,"145f"))},tnButton:function(){return Promise.all([n.e("common/vendor"),n.e("tuniao-ui/components/tn-button/tn-button")]).then(n.bind(null,"e6e0"))}},a=function(){var t=this.$createElement;this._self._c},r=[]},"964d":function(t,e,n){"use strict";(function(t){var o=n("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=o(n("2eee")),r=o(n("c973")),u=o(n("88ff")),c={name:"TemplateProduct",mixins:[u.default],data:function(){return{cardCur:0,id:0,swiperList:[],goodsDesc:"",price:"",address:"请选择配送地址",unit:"",stock:"",image:""}},onLoad:function(t){this.id=t.id,this.getGoodsInfoById()},methods:{getGoodsInfoById:function(){var e=this;return(0,r.default)(a.default.mark((function n(){var o,r;return a.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.$http.get("/goods/getGoodsInfoById/"+e.id);case 2:o=n.sent,r=o.data,1===r.code&&(e.image=r.data.image,e.goodsDesc=r.data.goodsDesc,e.price=r.data.price,e.unit=r.data.unit,e.stock=r.data.stock);case 5:case"end":return n.stop()}}),n)})))()},getLocation:function(){var e=this;t.chooseLocation({success:function(t){""!=t.name&&(e.address=t.name)}})},submit:function(){var e=this;return(0,r.default)(a.default.mark((function n(){var o,r,u;return a.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(t.getStorageSync("token")){n.next=4;break}return t.navigateTo({url:"/pages/login/login"}),t.$showMsg("亲，先登录才能兑换哦~"),n.abrupt("return");case 4:if("请选择配送地址"!==e.address){n.next=7;break}return t.$showMsg("请选择配送地址！"),n.abrupt("return");case 7:return o={goodsId:e.id,address:e.address},n.next=10,t.$http.post("/order/createOrder",o);case 10:r=n.sent,u=r.data,1===u.code?(e.getGoodsInfoById(),t.showToast({title:"兑换成功！",icon:"success"})):t.$showMsg(u.msg);case 13:case"end":return n.stop()}}),n)})))()},cardSwiper:function(t){this.cardCur=t.detail.current},tn:function(e){t.navigateTo({url:e})},tabChange:function(t){this.current=t},getRandomCoolBg:function(){return this.$t.colorUtils.getRandomCoolBgClass()}}};e.default=c}).call(this,n("543d")["default"])},b7ef:function(t,e,n){"use strict";(function(t,e){var o=n("4ea4");n("1827");o(n("66fd"));var a=o(n("6b68"));t.__webpack_require_UNI_MP_PLUGIN__=n,e(a.default)}).call(this,n("bc2e")["default"],n("543d")["createPage"])},c247:function(t,e,n){},c746:function(t,e,n){"use strict";n.r(e);var o=n("964d"),a=n.n(o);for(var r in o)["default"].indexOf(r)<0&&function(t){n.d(e,t,(function(){return o[t]}))}(r);e["default"]=a.a}},[["b7ef","common/runtime","common/vendor"]]]);